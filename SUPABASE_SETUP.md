# KStore - ุฅุนุฏุงุฏุงุช Supabase ููุฏุงุชุง ุงููุดุชุฑูุฉ + ุชุณุฌูู ุงูุฏุฎูู

## ูุง ุงูุฐู ุชุบูุฑุ

| ูุจู | ุจุนุฏ |
|------|------|
| IndexedDB ูุญูู ุนูู ูู ุฌูุงุฒ โ | Supabase ุนูู ุงูุณุญุงุจ โ |
| ูู ูุณุชุฎุฏู ุนูุฏู ุจูุงูุงุช ูุฎุชููุฉ โ | ูู ุงููุณุชุฎุฏููู ูุดูููุง ููุณ ุงูุจูุงูุงุช โ |
| ูููุด ุชุณุฌูู ุฏุฎูู โ | Login + Password โ |

---

## ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุฅูุดุงุก ูุดุฑูุน Supabase (ูุฌุงูุงู)

1. ุงุฏุฎู **https://supabase.com**
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ (ุฃู Login ุจู GitHub)
3. ุงุถุบุท **New Project**
4. ุงุณูู: `KStore`
5. ุงุฎุชุฑ ูุงุนุฏุฉ ุจูุงูุงุช ูุฑูุจุฉ ูู ูุตุฑ (ุฃู ุฃูุฑูุจุง)
6. ุงุถุบุท **Create new project** (ุงุณุชูู 2 ุฏูุงูู)

---

### 2. ุชุดุบูู SQL Script

1. ุงูุชุญ ุงููุดุฑูุน ูู Supabase
2. ูู ุงููุงุฆูุฉ ุงุฎุชุงุฑ **SQL Editor**
3. ุงูุณุฎ ุงูููุฏ ูู ููู `supabase-setup.sql`
4. ุญุทู ูู SQL Editor
5. ุงุถุบุท **Run** โ

---

### 3. ูุณุฎ ุงูุฅุนุฏุงุฏุงุช

1. ูู **Project Settings** โ **API**
2. ุงูุณุฎ ุงูููู ุฏู:
   ```
   Project URL:  https://xxxxx.supabase.co
   anon public:  eyJhbGc... (ููุชุงุญ ุทููู)
   ```

---

### 4. ุฅูุดุงุก ููู ุงูุฅุนุฏุงุฏุงุช

ูู ูุฌูุฏ ุงููุดุฑูุนุ ุฃูุดุฆ ููู ุงุณูู `.env.local`:

```bash
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
```

---

### 5. ุฅูุดุงุก ูุณุชุฎุฏู ููุฏุฎูู

1. ูู Supabaseุ ุงูุชุญ **Authentication** โ **Users**
2. ุงุถุบุท **Add user** โ **Create new user**
3. ุฅููู: `admin@kstore.com`
4. ุจุงุณูุฑุฏ: ุงุฎุชุงุฑ ุจุงุณูุฑุฏ ููู
5. ุงุถุบุท **Create user**
6. โ ุฎูุงุต! ุชุณุชุฎุฏู ุฏู ููุฏุฎูู

---

### 6. ุชุดุบูู ุงููุดุฑูุน

```bash
npm install
npm run dev
```

ุงูุชุญ: `http://localhost:3000`

ูููุฌูู ูุตูุญุฉ **ุชุณุฌูู ุงูุฏุฎูู** โ

---

## ุดุฑุญ ุงูุจูุงูุงุช ุงููุดุชุฑูุฉ

### ูุจู โ:
```
ุฌูุงุฒ ูุญูุฏ โ IndexedDB โ 5 ููุชุฌุงุช
ุฌูุงุฒ ุฃุญูุฏ  โ IndexedDB โ 3 ููุชุฌุงุช (ูุฎุชููุฉ!)
```

### ุจุนุฏ โ:
```
ุฌูุงุฒ ูุญูุฏ โ Supabase โ 5 ููุชุฌุงุช โ
ุฌูุงุฒ ุฃุญูุฏ  โ Supabase โ 5 ููุชุฌุงุช โ (ููุณ ุงูุจุงูุงุช!)
```

---

## ุงููููุฒุงุช

| ููุฒุฉ | ุญุงูุฉ |
|------|------|
| ุจูุงูุงุช ูุดุชุฑูุฉ ููู ุงููุณุชุฎุฏููู | โ |
| ุชุณุฌูู ุฏุฎูู ุจุจุงุณูุฑุฏ | โ |
| ุญูุงูุฉ ุงูุจูุงูุงุช (RLS) | โ |
| ุชุญุฏูุซ ุชููุงุฆู ุจุฏูู reload | โ |
| ูุฌุงูู ุจุงููุงูู | โ |
| 500MB ุชุฎุฒูู | โ |
| 50,000 ูุณุชุฎุฏู ุดูุฑูุงู | โ |

---

## ุชูุถูุญ RLS (Row Level Security)

ุงูู RLS ุงููู ูู ุงูู SQL Script ุจูุฎูู:
- โ ุฃู ูุณุชุฎุฏู ูุณุฌู ุฏุฎูู ููุฏุฑ ูุดูู/ูุนุฏู ุงูุจูุงูุงุช
- โ ุฃู ุญุฏ ููููุน ููุชุญ ุงููููุน ูู ุบูุฑ ูุง ูุณุฌู

ูู ุนุงูุฒ ุชุญูู ุฃูุชุฑ (ูุซูุงู ูู ูุณุชุฎุฏู ูุดูู ุจูุงูุงุชู ุจุณ)ุ ูููู!

---

## ูุดููุงุช ุดุงุฆุนุฉ

### "Database connection failed"
- ุชุฃูุฏ ุฅูู ุดุบูุช SQL Script
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช `.env.local`

### "Invalid API key"
- ุชุฃูุฏ ุฅูู ูุณุฎุช ุงูู anon key ุตุญ
- ุชุฃูุฏ ุฅู ุงูููู ุงุณูู `.env.local` (ูุด `.env.local.example`)

### "Email not confirmed"
- ูู Supabaseุ ุงูุชุญ **Authentication** โ **Providers**
- ุนุทู **Enable email confirmations**

---

## Deploy ุนูู Vercel

```bash
# 1. ุนูู GitHub
git add .
git commit -m "Add Supabase"
git push

# 2. ูู Vercel
# Settings โ Environment Variables
# ุฃุถู:
NEXT_PUBLIC_SUPABASE_URL=your_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key

# 3. Redeploy
```

---

## ูุญุชุงุฌ ูุณุงุนุฏุฉุ

ุงูููุฏ ุงููู ุงุชุนูู:

1. โ `lib/supabase/client.ts` - ุงูุงุชุตุงู ุจู Supabase
2. โ `lib/supabase/database.ts` - ุงูุนูููุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โ `app/login/page.tsx` - ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
4. โ `middleware.ts` - ุญูุงูุฉ ุงูุตูุญุงุช
5. โ `supabase-setup.sql` - ุฅูุดุงุก ุงูุฌุฏุงูู

ุณูููู ูู ุฃู ุญุงุฌุฉ! ๐
